import xml.etree.ElementTree as ET

# Carregar o arquivo XML
tree = ET.parse("C:\\Users\\Guila\\OneDrive\\Documentos\\dicbio-TEI-XML\\data\\compendio1brotero.xml")
root = tree.getroot()

# Namespace TEI
ns = {'tei': 'http://www.tei-c.org/ns/1.0'}

# Buscar todas as tags <p>
p_elements = root
print(p_elements)

# Função para extrair texto com as tags
def extrair_texto_com_tags(elemento):
    if elemento is None:
        return ""

    resultado = []

    for elem in elemento.iter():
        tag_aberta = f"<{elem.tag.split('}')[-1]}>"  # Remove o namespace
        tag_fechada = f"</{elem.tag.split('}')[-1]}>"

        texto_antes = elem.text.strip() if elem.text else ""
        texto_depois = elem.tail.strip() if elem.tail else ""

        resultado.append(f"{tag_aberta}{texto_antes}{tag_fechada} {texto_depois}")

    return " ".join(resultado)


# Processar e exibir todos os parágrafos
for p_element in p_elements:
    print(extrair_texto_com_tags(p_element))
